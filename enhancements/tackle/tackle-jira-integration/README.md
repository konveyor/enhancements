---
title: tackle-jira-integration
authors:
  - "@rromannissen"
reviewers:
  - "@jortel"
  - "@mansam"
  - "@jwmatthews"
approvers:
  - "@jortel"
creation-date: 2022-10-28
last-updated: 2022-10-28
status: provisional
see-also:
  -  
replaces:
  -
superseded-by:
  -
---

# Tackle Hub integration with Jira


## Release Signoff Checklist

- [ ] Enhancement is `implementable`
- [ ] Design details are appropriately documented from clear requirements
- [ ] Test plan is defined
- [ ] User-facing documentation is created

## Open Questions

- There has been discussion of adding an Issue as a first class entity in the hub data model to represent issues related to modernizing an application.  For example: issues generated by analysis.  Will any of these external issues be mirrored as Tackle issues?  Or, only live in the external issue manager?
- What would be the flow for creating issues with mandatory custom fields?
- Testing strategies for the integration? Maybe building a Jira simulator that can be used as mockup for testing?
- What happens if issue creation fails? What kind of retry logic do we want to have?
- How should the repeated export be managed? For example, the applications in a Migration Wave are exported. Then, a new application that wasn't exported is added to the Migration Wave and the user clicks on Export to Issue Manager.
- Icons for each one of the statuses should be defined.


## Summary

One of the key concerns from top managers involved in modernization/migration initiatives is to know the progress of the overall project. Since most organizations have their own task management tooling, it makes sense to allow Tackle to integrate with it to leverage its capabilities. The approach would be to create tasks or issues in these task/issue managers to represent the work in a given application from the portfolio, while Tackle should be able to retrieve information about the current status of each application. This integration shouldn't be coupled with the particularities of any task/issue manager in the Tackle side, but since Jira is the most widespread tool among large organizations, it makes sense for it to be the first implementation of this integration, leaving the door open for future integrations with other task/issue managers such as GitHub issues, Remedy or Service Now.

## Motivation

This integration would provide the following advantages:

- Adoption leads are frequently not part of the organization that is executing the migration initiatives, and it is very common that these are managed by migration/adoption experts from consulting teams from GSIs and vendors. This integration would allow adoption leads to keep track of the progress of the overall initiative or at application level without having to create profiles in the corporate tooling for them, or requiring them to understand how such tooling works.
- Migrators, or the developers in charge of executing the actual changes in the applications, are often part of Third Party factories provided by partners or internal development teams belonging to the organization itself. It is fairly common for organizations to keep track of the work executed by such resources using their own task/issue trackers. This approach would avoid having to log this work twice with two different tools, and might even prevent some development teams from having to learn another additional tool.
- This integration would enable Tackle to aggregate progress and status data about the overall migration initiative, opening the door for executive dashboards that could be consumed by a potential new senior management persona.

### Goals

- Design and implement a generic integration layer with task/issue managers.
  - Provide a way to create issues/tasks on the external system.
  - Provide a way to consume information from the issues/tasks on the external system and display it in the Tackle UI.
- Implement the integration with Atlassian Jira meeting the interface requirements of the integration layer.


### Non-Goals

- Implement a [Jira App](https://marketplace.atlassian.com/addons/app/jira) of any kind.
- Design and implement the executive dashboards or tackle the senior management persona. These features will be dealt with in a potential future enhancement.

## Proposal

### Personas / Actors


#### Administrator

The administrator for the tool that has access to some application-wide configuration parameters that other users can consume but not change or browse. Example: Jira configuration, Jira Credentials.

#### Architect

A technical lead for the migration project that can create and modify applications and information related to it. The Architects donâ€™t need to have access to sensitive information, but can consume it. Example: Create an issue from an application without knowing the credentials of a given Jira instance.



### User Stories

#### Issue Manager Configuration.

##### IMC001

*As an administrator I want to be able to configure access to multiple Jira instances*

##### IMC002

*As an administrator I want to be able to configure Jira instances of any flavor: Server, Data Center and Cloud*


##### IMC003

*As an administrator I want to be able to manage credentials to access Jira instances*


##### IMC004

*As an administrator I want to be able to configure access to Jira instances through HTTP or HTTPS, including self-signed certificates*


#### Export to issue manager

##### IME001

*As an architect I want to be able to export applications as issues in Jira*

##### IME002

*As an architect I want to be able to select the target instance to export applications to*

##### IME003

*As an architect I want to be able to select the target project to export applications to*

##### IME004

*As an architect I want to be able to select the issue type to be used when exporting the applications as issues*

#### Application migration status

##### AMS001

*As an architect I want to be able to get information about the status of the issue associated with an application*

##### AMS002

*As an architect I want to be able to get the link to the issue associated with an application*

##### AMS003

*As an architect I want to be able to derive the status of a migration wave based on the aggregation of statuses of the applications associated to that wave*

### Functional Specification

#### Issue Manager configuration in the Administrator Perspective

##### Related Use Cases

- [IMC001](#IMC001)
- [IMC002](#IMC002)
- [IMC003](#IMC003)
- [IMC004](#IMC004)


##### Involved Personas

- [Administrator](#administrator)

##### Description

###### Main view

A new entry should be added on the Control Menu on the left bar. This new option will be called Issue Management, and will have a single nested option for the moment titled Jira. Future integrations with other Issue Managers should add more nested options.

![Jira Configuration](images/admin-jira-config.png?raw=true "Jira Configuration")

Clicking in the Jira nested option will open the Jira configuration view, where the user will be able to manage Jira instances. Instances will be represented on a table, displaying the following attributes for each row:

- *Instance name*
- *URL*
- *Instance type*

###### Create instance

The administrator can create an instance by clicking the "Create instance" button. This will open a modal window with the following fields:

- *Instance name*: String
- *URL*: String
- *Instance type*: Dropdown, single selection. Values:
  - Server
  - Data Center
  - Cloud
- *Credentials*: Dropdown, single selection. Will display a list of all Jira credentials available on the system.
- *Enable insecure communication*: Toggle.


![Jira Configuration - Create Instance](images/admin-jira-config-create.png?raw=true "Jira Configuration - Create Instance")

There will be two buttons at the bottom of the modal window:
- **Save**: Validates the input and creates a new instance.
- **Cancel**: Exists the modal window. If any data has been entered, the system will ask for confirmation.


###### Edit instance

Clicking on the Edit button on the application row will open the Edit instance modal. Its contents will be the same as in the instance creation modal window, but with the contents filled with their corresponding values for the selected application.

###### Delete instance

The delete button on the application row will delete an instance after confirmation. Jira instances cannot be deleted if they host any issue associated with any application. In that case, if the user clicks on delete, the following error message will be displayed:

"**This instance contains issues associated with applications and cannot be deleted**"


#### Exporting applications as issues

##### Related Use Cases

- [IME001](#IME001)
- [IME002](#IME002)
- [IME003](#IME003)
- [IME004](#IME004)


##### Involved Personas

- [Architect](#architect)

##### Description

###### Migration Waves View

The Migration Waves view will offer a way to export all the applications associated to a wave as issues at bulk. An option for that, *Export to Issue Manager*, will be available on the kebab menu for each wave:

![Export Wave](images/waves-export-kebab-option.png?raw=true "Export wave")

Clicking on that option will open a modal window with the following fields:

- *Issue Manager*: Dropdown, single selection. The only value will be Jira for the moment, and other values will be added as more integrations are implemented.
- *Instance*: Dropdown, single selection. Will display a list of all Jira instances available on the system.
- *Project*: Dropdown, single selection. It will be populated dynamically once an instance has been selected and will contain the list of available projects in the given Jira instance the configured user has access to.
- *Issue type*: Dropdown, single selection. It will be populated dynamically once the project has been selected and will contain the list of available tasks for the given project.

![Export to Issue Manager](images/waves-export-to-issue-manager.png?raw=true "Export to Issue Manager")


There will be two buttons at the bottom of the modal window:
- **Export**: Starts the export of the list of applications associated with the Migration Wave.
- **Cancel**: Exists the modal window. If any data has been entered, the system will ask for confirmation.

#### Aggregated view of the status of a Migration Wave

##### Related Use Cases

- [AMS001](#AMS001)
- [AMS002](#AMS002)
- [AMS003](#AMS003)


##### Involved Personas

- [Architect](#architect)

##### Description

A new compound expandable section is proposed for the migration waves to reflect status data. Rows on that section will include the following fields.

- *Application Name*: Name for the given application.
- *Status*: Status of the application in the issue manager. This field should load asynchronously to reflect the latest data on the issue manager.
- *Issue*: Issue code in the issue manager with a link to the actual issue.

![Wave status](images/waves-issue-status.png?raw=true "Wave status")

At the top level of the compound expandable section, the aggregated status of the applications will be displayed in a text field with an icon. The business logic to manage both the aggregated and individual statuses is the following:

- When applications are in the process of being imported to the issue manager, the aggregated status should be *Creating Issues* and the individual application status should be *Creating Issue*.

- Once issues have been created, each issue should display their corresponding status on the issue manager. The aggregated status will display *Issues Created* if the current system date is previous to the Start Date for the wave, and *In progress* if the current system date is posterior to it.

- When all issues associated to the applications in a wave have reached the universal closed state from the issue manager, the aggregated status will display *Completed*.

- If there is any error creating an issue for an application, both its individual status and the aggregated status will display "Error".


### Implementation Details/Notes/Constraints

#### Jira Communication Flow/API calls

Documentation of the communication flow for each instance type.

##### Jira On Premise

###### Authentication

TBD

###### Listing projects

TBD


###### Listing Issue Types

TBD

###### Creating Issues

TBD

###### Checking Issue Status

TBD

##### Jira Cloud

###### Authentication

TBD

###### Listing projects

TBD

###### Listing Issue Types

TBD

###### Creating Issues

TBD

###### Checking Issue Status

TBD



### Security, Risks, and Mitigations

TBD

## Design Details

### Test Plan

TBD

### Upgrade / Downgrade Strategy

TBD

## Implementation History

TBD

## Drawbacks

TBD

## Alternatives

TBD

## Infrastructure Needed

Testing infrastructure will be required for this to test the integration. It should be discussed if getting infrastructure on demand is an option, or if we should consider using a simulation/mocking strategy instead.
